<form [formGroup]="myForm" autocomplete="off">
  <div id="step-4" class="content">
    <div class="row">
      <div class="col-sm-12">
        <div class="form-group">
          <label class="form-control-label" for="password"> Contraseña </label>

          <div class="input-group input-group-merge">
            <input
              class="form-control"
              [ngClass]="isInvalidField('password') ? ' is-invalid' : ''"
              [type]="!hidePassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
            />
            <div class="input-group-append">
              <span
                class="input-group-text"
                [ngClass]="isInvalidField('password') ? ' is-invalid' : ''"
              >
                <i
                  class="fas"
                  [ngClass]="!hidePassword ? 'fas fa-eye-slash' : 'fas fa-eye'"
                  (click)="hidePassword = !hidePassword"
                >
                </i>
              </span>
            </div>

            <div
              *ngIf="myForm.get('password')?.errors?.required"
              class="invalid-feedback"
            >
              Es un campo requerido.
            </div>
            <div
              *ngIf="
                myForm.get('password')?.errors &&
                !myForm.get('password')?.errors?.required
              "
              class="invalid-feedback"
            >
              La contraseña debe cumplir con los requisitos.
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-12">
        <div class="form-group">
          <label class="form-control-label" for="repeatPassword">
            Repetir contraseña
          </label>

          <div class="input-group input-group-merge">
            <input
              class="form-control"
              [ngClass]="isInvalidField('repeatPassword') ? ' is-invalid' : ''"
              [type]="!hideRepeatPassword ? 'text' : 'password'"
              id="repeatPassword"
              formControlName="repeatPassword"
            />

            <div class="input-group-append">
              <span
                class="input-group-text"
                [ngClass]="
                  isInvalidField('repeatPassword') ? ' is-invalid' : ''
                "
              >
                <i
                  class="fas"
                  [ngClass]="
                    !hideRepeatPassword ? 'fas fa-eye-slash' : 'fas fa-eye'
                  "
                  (click)="hideRepeatPassword = !hideRepeatPassword"
                >
                </i>
              </span>
            </div>

            <div
              *ngIf="myForm.get('repeatPassword')?.errors?.required"
              class="invalid-feedback"
            >
              Es un campo requerido.
            </div>
            <div
              *ngIf="myForm.get('repeatPassword')?.errors?.mustMatch"
              class="invalid-feedback"
            >
              No coincide con la contraseña ingresada.
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-6">
        <div class="custom-control custom-checkbox mb-3">
          <input
            disabled
            type="checkbox"
            class="custom-control-input"
            id="hasSpecialCharacters"
            [checked]="!myForm.get('password')?.errors?.hasSpecialCharacters"
          />
          <label class="custom-control-label" for="hasSpecialCharacters">
            Al menos un símbolo.</label
          >
        </div>
      </div>

      <div class="col-sm-12 col-md-6">
        <div class="custom-control custom-checkbox mb-3">
          <input
            disabled
            type="checkbox"
            class="custom-control-input"
            id="hasNumber"
            [checked]="!myForm.get('password')?.errors?.hasNumber"
          />
          <label class="custom-control-label" for="hasNumber">
            Al menos un número.</label
          >
        </div>
      </div>

      <div class="col-sm-12 col-md-6">
        <div class="custom-control custom-checkbox mb-3">
          <input
            disabled
            type="checkbox"
            class="custom-control-input"
            id="hasCapitalCase"
            [checked]="!myForm.get('password')?.errors?.hasCapitalCase"
          />
          <label class="custom-control-label size" for="hasCapitalCase">
            Al menos una mayúscula.</label
          >
        </div>
      </div>

      <div class="col-sm-12 col-md-6">
        <div class="custom-control custom-checkbox mb-3">
          <input
            disabled
            type="checkbox"
            class="custom-control-input bg-warning"
            id="minlength"
            [checked]="
              !myForm.get('password')?.errors?.required &&
              !myForm.get('password')?.errors?.minlength
            "
          />
          <label class="custom-control-label" for="minlength">
            Más de 8 caractéres.</label
          >
        </div>
      </div>

      <div class="col-sm-12">
        <div class="custom-control custom-checkbox mb-3">
          <input
            class="custom-control-input"
            [ngClass]="
              isInvalidField('termsAndConditions') ? ' is-invalid' : ''
            "
            type="checkbox"
            id="termsAndConditions"
            formControlName="termsAndConditions"
          />
          <label class="custom-control-label" for="termsAndConditions">
            Acepto los términos y la Política de Protección de Datos.</label
          >
          <div
            *ngIf="isInvalidField('termsAndConditions')"
            class="invalid-feedback"
          >
            Es un campo requerido
          </div>
        </div>
      </div>

      <div class="col-sm-12">
        <div class="custom-control custom-checkbox mb-3">
          <input
            type="checkbox"
            class="custom-control-input"
            [ngClass]="
              isInvalidField('termsOfMessaging') ? ' is-invalid' : ''
            "
            id="termsOfMessaging"
            formControlName="termsOfMessaging"
          />
          <label class="custom-control-label" for="termsOfMessaging">
            Acepto los términos y la mensajeria.</label
          >
          <div
            *ngIf="isInvalidField('termsOfMessaging')"
            class="invalid-feedback"
          >
            Es un campo requerido
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="row">
      <div class="col">
        <span>Valid</span>
        <pre>{{ myForm.valid }}</pre>

        <span>Pristine</span>
        <pre>{{ myForm.pristine }}</pre>

        <span>Touched</span>
        <pre>{{ myForm.touched }}</pre>

        <span>Value</span>
        <pre>{{ myForm.value | json }}</pre>

        <span>password</span>
        <pre>{{ myForm.controls["password"].errors | json }}</pre>

        <span>repeatPassword</span>
        <pre>{{ myForm.controls["repeatPassword"].errors | json }}</pre>

        <span>termsAndConditions</span>
        <pre>{{
          myForm.controls["termsAndConditions"].errors | json
        }}</pre>

        <span>termsOfMessaging</span>
        <pre>{{ myForm.controls["termsOfMessaging"].errors | json }}</pre>
      </div>
    </div> -->

    <button (click)="next()" class="btn btn-darker btn-block">Registrar</button>
    <button (click)="preview()" class="btn btn-outline-dark btn-block">
      Anterior
    </button>
  </div>
</form>
